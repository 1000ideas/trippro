<%= form_for :filter, url: admin_requests_path, html: {method: :get, class: 'filter-form'} do |f| %>
  <%= link_to '#', data: {dropdown: 'filter-dropdown'} do %>
    <% if filtering? %>
      <%= fa_icon('check-circle fw')  %>
      <%= t('.edit_filters', default: :'defaults.filter.edit_filters') %>
    <% else %>
      <%= t('.open_filters', default: :'defaults.filter.open_filters') %>
    <% end %>
    <%= fa_icon 'caret-down', class: 'arrow' %>
  <% end %>
  <fieldset class="f-dropdown content medium axis-right" id="filter-dropdown" data-dropdown-content>
    <%= f.label :name, Request.human_attribute_name(:name)  %>
    <%= f.text_field :name, value:  filter(:name) %>
    <%= f.label :phone_number, Request.human_attribute_name(:phone_number)  %>
    <%= f.text_field :phone_number, value:  filter(:phone_number) %>
    <%= f.label :email, Request.human_attribute_name(:email)  %>
    <%= f.text_field :email, value:  filter(:email) %>
    <%= f.label :company, Request.human_attribute_name(:company)  %>
    <%= f.text_field :company, value:  filter(:company) %>

    <%= f.label :created_before, t('.created_before')  %>
    <div class="row collapse input-calendar">
      <div class="columns small-11"><%= f.text_field :created_before, value: filter(:created_before) %></div>
      <%= link_to fa_icon('calendar'), '#', class: 'button tiny columns small-1' %>
    </div>

    <%= f.label :created_after, t('.created_after')  %>
    <div class="row collapse input-calendar">
      <div class="columns small-11"><%= f.text_field :created_after, value: filter(:created_after) %></div>
      <%= link_to fa_icon('calendar'), '#', class: 'button tiny columns small-1' %>
    </div>

    <div class="buttons text-right">
      <%= f.button t('.filter', default: :'defaults.filter.filter'), class: 'button tiny secondary round' %>
      <%= link_to t('.clear', default: :'defaults.filter.clear'), admin_requests_path, class: 'button tiny secondary round' %>
    </div>
  </fieldset>
<% end %>
